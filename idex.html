<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Form</title>
    <link rel="stylesheet" type="text/css" href="Sytles.css">
</head>
<body>
    <form onsubmit="event.preventDefault(); login(this);">
        <h1>Login</h1>
        <label for="username">Usuario</label>
        <input type="text" name="u" id="username" required onkeydown="checkEnter(event)">
        <label for="password">Password</label>
        <input type="password" name="c" id="password" required onkeydown="checkEnter(event)">
        <input type="button" value="Ingresar" onclick="login(this.form)">
    </form>
    <script>
       var validDomain = 'peluche.com'; // Agrega el dominio permitido

       var users = [
            { username: "ed@peluche.com", password: "123" },
            { username: "usuario2@peluche.com", password: "contraseña2" },
        ];
        function login(form) {
    try {
        var username = form.username.value;
        var password = form.password.value;

        // Verifica si el dominio está presente en el nombre de usuario
        if (username.endsWith('@' + validDomain)) {
            // Verifica el nombre de usuario y la contraseña
            var validUser = users.find(function (user) {
                return user.username === username && user.password === password;
            });

            if (validUser) {
                alert("Inicio de sesión exitoso");
                location.href = "inventario.html";
            } else {
                throw new Error("Error de usuario o contraseña");
            }
        } else {
            throw new Error("Por favor, incluye el dominio '@peluche.com'");
        }
    } catch (error) {
        alert("Error: " + error.message);
    }
}
function checkEnter(event) {
       if (event.key === 'Enter') {
        event.preventDefault();
             login(event.target.form);
        }
    }
    </script>
   
</body>
</html>
